<!DOCTYPE html>
<html ng-app="ideasApp">
<head>
  <title>Ideas</title>
  <link rel="stylesheet" href="/css/style.css" />
  <base href="/">
</head>
<body>
  <h1>Ideas</h1>
  <p>
    An application to share and discuss project ideas
  </p>

  <iframe src="/js/vendor/Squire/document.html"></iframe>

  <script>
    var iframe = document.getElementsByTagName("iframe")[0];
    var editor;

    iframe.onload = function(){
      editor = iframe.contentWindow.editor;
      editor.addEventListener("keyup", keyup);
      editor.addEventListener("select", select);
    };

    function keyup(event) {
      switch(event.keyCode) {
        case 9: //tab
        case 13: //enter
        case 32: //space
        case 186: //semicolon
        case 188: //comma
        case 190: //period
          checkDocument();
          break;
      }
    }

    function select(event) {
      console.log(editor.getPath())
    }

    function checkDocument() {
      console.log(editor.getHTML())
    }
  </script>

</body>
</html>
